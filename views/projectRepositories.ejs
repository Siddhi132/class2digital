<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Hello, world!</title>
    <style>
        .repo-card {
            /* background-color: red; */
            width: 90%;
            margin: auto;
            border-radius: 50%;
            border: none;
            /* font-family: 'Poppins', sans-serif; */
            font-family: 'Roboto', sans-serif;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
            transition: all 0.3s cubic-bezier(.25, .8, .25, 1);
            margin-top: 30px;
            margin-bottom: 30px;
            padding: 5px;
            height: fit-content;
        }



        .repo-card:hover {
            box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
        }

        .internship-title {
            font-size: 1.9rem;
            font-weight: 600;
            color: rgb(56, 56, 56);
        }

        .tag-name {
            display: flex;

        }

        .individual-tag {
            margin: 0 5rem 0 0;
        }

        .individual-tag h5 {
            font-size: 1.2rem;
            font-weight: 400;
            color: #6B6B6B
        }

        .individual-tag p {
            font-size: 1rem;
            font-weight: 400;
            color: rgb(56, 56, 56);
        }

        .badge-learning {
            margin: 0 0.5rem 1rem 0;
            padding: 0.3rem 0.5rem;
            font-weight: 400;
            background-color: #EFEFEF;
            color: black;
            border-radius: 5px;
        }

/* i want button group at the right side */
        .button-group{
            display: flex;
            justify-content: flex-end;
        }
    </style>
</head>

<body>


    <!-- Navbar -->
    <%- include('navbar.ejs') -%>
        <div class="section-header">
            <br>
            <h2>Project Repository For You</h2>
            <p>Use projects and upgrade your Industrial skills..</p>
        </div>
     <div class="container mb-3 d-flex">
        <!-- <form class="d-flex" role="search"> -->
            <input class="form-control me-2" type="search" placeholder="Search Projects " aria-label="Search" id="search-input">
            <button class="btn btn-outline-success" type="submit">Search</button>
            <a href="/uploadProjectRepository"><button class="btn btn-dark ms-3" >Upload</button></a>
        <!-- </form> -->
     </div>
      <div id="search-content">
        <% repository.forEach(function(repo){ %>
            <div class="card repo-card">
                <div class="card-body ">
                    <h5 class="card-title internship-title"><%- repo.projectName -%></h5>
                    <p class="card-text"> <%- repo.projectDescription -%>
                    </p>

                    <div class="tag-name">
                        <div class="individual-tag">
                            <h5>Guide</h5>
                            <p><%- repo.guideName -%></p>
                        </div>
                        <% repo.teamMembers.forEach(function(mem){ %>
                            <div class="individual-tag">
                                <h5>Member</h5>
                                <p><%- mem -%></p>
                            </div>
                            <% }) %>
                    </div>
                    <div class="tag-name">

                        <div class="individual-tag">
                            <h5>Skills To be learned</h5>
                        </div>

                    </div>

                    <span class="badge-learning">React Js</span>
                    <span class=" badge-learning">Node Js</span>
                    <span class="  badge-learning">Rest API</span>

                    <br>
                    <hr>
                    <div class="button-group">
                        <a href="<%- '/ProjectRepository?_id=' + repo._id -%>"><button type="button" class="btn border-dark me-3 ">View Project</button></a> 
                       <button type="button" class="btn btn-dark">Download Project</button> 
                    </div>
                </div>
            </div>
            <% }) %>
      </div>




                <!-- Footer -->
                <%- include('footer.ejs') -%>


                    <!-- Optional JavaScript; choose one of the two! -->



                    <!-- Option 2: Separate Popper and Bootstrap JS -->
                    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
                    <script>
                        const input = document.querySelector("#search-input");
                        const content = document.querySelector("#search-content");
                        const elements = content.querySelectorAll(".repo-card");
                        console.log('elements',   elements);
                        
                        input.addEventListener("input", function () {
                            const searchTerm = this.value.toLowerCase();
                            for (let element of elements) {
                                const text = element.textContent.toLowerCase();
                                if (text.includes(searchTerm)) {
                                    element.style.display = "block";
                                } else {
                                    element.style.display = "none";
                                }
                            }
                        });
                    </script>
</body>

</html>